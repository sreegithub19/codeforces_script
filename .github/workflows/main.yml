name: C# Hello World CI

on:
  push:
    branches:
      - c_sharp
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up .NET
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '7.0.20'  # Specify the .NET version you want

    - name: Create C# Project
      run: |
        mkdir HelloWorld
        cd HelloWorld
        dotnet new console -n HelloWorld

    - name: Write Hello World Program
      run: |
        echo 'using System;' > HelloWorld/Program.cs
        echo '' >> HelloWorld/Program.cs
        echo 'namespace HelloWorld' >> HelloWorld/Program.cs
        echo '{' >> HelloWorld/Program.cs
        echo '    class Program' >> HelloWorld/Program.cs
        echo '    {' >> HelloWorld/Program.cs
        echo '        static void Main(string[] args)' >> HelloWorld/Program.cs
        echo '        {' >> HelloWorld/Program.cs
        echo '            Console.WriteLine("Hello, World!");' >> HelloWorld/Program.cs
        echo '        }' >> HelloWorld/Program.cs
        echo '    }' >> HelloWorld/Program.cs
        echo '}' >> HelloWorld/Program.cs

    - name: Build the Project
      run: dotnet build HelloWorld/HelloWorld.csproj

    - name: Run the Project
      run: dotnet run --project HelloWorld/HelloWorld.csproj
